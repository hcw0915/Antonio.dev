# [心得] 怎樣算是個好組件

遇到一個功能是點擊收藏功能, 圖片也會依照點擊狀態從空心改為被填滿色塊,
用 `useState` 配合按鈕可以做到切換功能基本沒什麼問題.

但問題就在於寫這個功能的同事, 把狀態寫在了組件內部.

也確實可以做到切換, 功能正常.

但是問題在於 使用的組件是無法拿到他的狀態。

```javascript
<div>
  <Favorite />
</div>
```

看起來使用很正常 但實際上我也不需要一個點擊會閃的按鈕
而是需要配合狀態做使用讓外部可以控制它

這個組件的功能止於顯示 UI, 便表示狀態是需要由外部賦予的.

後續衍生其他需求變成需要依照這個做計數, 在不修正的情況下 我還是必須改寫組件
傳狀態進去以便獲得變化, 去針對內容做計算

---

個人覺得大致上 `component` 有幾個部分是適合從外部傳入 或是從內部丟出的, 或甚至是配合 forwardRef 做 `ref` 綁定

- 組件狀態 state, setState.
- 組件特定元素 ref `e.g. 需要找到外部 container 的容器寬高`
- 全域狀態或是 API 觸發的函示

應該落實 組件 UI 與業務邏輯的區分乾淨, 始終讓畫面組件做好他的事

`Let the knife do the work.`
